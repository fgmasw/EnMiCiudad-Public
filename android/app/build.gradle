// Archivo: D:\06MASW-A1\en_mi_ciudad\android\app\build.gradle

plugins {
    // Usa la versión declarada en settings.gradle (AGP 8.2.2).
    id "com.android.application"
    // Usa Kotlin si tu MainActivity.kt.
    id "kotlin-android"
    // El plugin de Flutter se aplica después de los anteriores.
    id "dev.flutter.flutter-gradle-plugin"
}

android {
    namespace = "com.enmiciudad.app.en_mi_ciudad"

    // Ajusta según tu Flutter config (puede venir de local.properties).
    compileSdk = flutter.compileSdkVersion
    ndkVersion = flutter.ndkVersion

    // Ajuste para usar Java 17, evitando warnings de Java 8 obsoleto.
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_17
        targetCompatibility JavaVersion.VERSION_17
    }

    // Si usas Kotlin nativo, ajusta a "17" para emparejar con Java 17.
    kotlinOptions {
        jvmTarget = "17"
    }

    defaultConfig {
        applicationId "com.enmiciudad.app.en_mi_ciudad"
        minSdk = flutter.minSdkVersion
        targetSdk = flutter.targetSdkVersion
        versionCode = flutter.versionCode
        versionName = flutter.versionName
    }

    buildTypes {
        release {
            // Aplica firma si tienes una config de signing.
            signingConfig = signingConfigs.debug
        }
    }
}

// Indica la ruta del código Flutter a compilar.
flutter {
    source = "../.."
}

// Dependencias si necesitas .jar locales, librerías, etc.
// dependencies {
//     implementation fileTree(dir: "libs", include: ["*.jar"])
// }
